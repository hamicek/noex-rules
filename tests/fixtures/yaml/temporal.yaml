id: payment-timeout
name: Payment Timeout Detection
description: Detects when payment is not received within 24 hours
trigger:
  type: temporal
  pattern:
    type: absence
    after:
      topic: order.created
    expected:
      topic: payment.received
    within: 24h
    groupBy: orderId
actions:
  - type: emit_event
    topic: order.payment_timeout
    data:
      reason: Payment not received within 24 hours
